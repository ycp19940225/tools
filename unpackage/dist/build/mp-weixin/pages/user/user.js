(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/user"],{1293:function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e("2f62");function i(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.forEach(function(t){r(n,t,e[t])})}return n}function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var a=function(){return e.e("components/mix-list-cell").then(e.bind(null,"be0b"))},c=function(){return Promise.all([e.e("common/vendor"),e.e("components/mescroll-uni/mescroll-uni")]).then(e.bind(null,"6600"))},s=0,u=0,f=!0,l={components:{listCell:a,MescrollUni:c},data:function(){return{coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,userInformation:{headimg:"",nickname:""},downOption:{use:!0,auto:!0},upOption:{use:!1,auto:!1,page:{num:0,size:3},noMoreSize:5,empty:{tip:"暂无相关数据..."}}}},mounted:function(){this.getPageData(),this.getAd()},computed:i({},(0,o.mapState)(["hasLogin","userInfo"])),methods:{getAd:function(){var n=this;wx.createInterstitialAd&&(n.screenAd=wx.createInterstitialAd({adUnitId:"adunit-d7c1f207fcff3ab6"}),n.screenAd.onLoad(function(){}),n.screenAd.onError(function(n){})),n.screenAd&&setTimeout(function(){n.screenAd.show().catch(function(n){console.error(n)})},n.getRandom(15e3,3e4))},getRandom:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=t-n,i=Math.random();return(n+o*i).toFixed(e)},couponsList:function(){n.navigateTo({url:"/pages/coupons/list"})},getCoupons:function(){n.navigateTo({url:"/pages/coupons/get"})},shareTo:function(){n.showToast({title:"请点击上方工具栏分享转发",icon:"none"})},tip:function(){this.$api.msg("暂未开通")},downCallback:function(n){this.getPageData(),n.endSuccess()},editInfo:function(){n.navigateTo({})},getPageData:function(){var t=this;this.$http.post("/api/user/index").then(function(e){var o=e.data.data;1!=e.data.code?n.showToast({title:e.data.info,icon:"none"}):""!=o["headimg"]||""!=o["nickname"]?t.userInformation=o:n.navigateTo({url:"/pages/user/auth"})}).catch(function(n){console.log(n)})},wxGetUserInfo:function(){var t=this;n.login({provider:"weixin",success:function(e){n.getUserInfo({provider:"weixin",success:function(n){console.log(n),t.userInformation.headimg=n.userInfo.avatarUrl,t.userInformation.nickname=n.userInfo.nickName,t.saveUserInfo(n.userInfo)}})}})},saveUserInfo:function(t){this.$http.post("/api/user/saveBase",t).then(function(t){t.data.data;1!=t.data.code?n.showToast({title:t.data.info,icon:"none"}):console.log(t)}).catch(function(n){console.log(n)})},navTo:function(t){this.userInfo||(t="/pages/public/login"),n.navigateTo({url:t})},coverTouchstart:function(n){!1!==f&&(this.coverTransition="transform .1s linear",s=n.touches[0].clientY)},coverTouchmove:function(n){u=n.touches[0].clientY;var t=u-s;t<0?this.moving=!1:(this.moving=!0,t>=80&&t<100&&(t=80),t>0&&t<=80&&(this.coverTransform="translateY(".concat(t,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")}}};t.default=l}).call(this,e("543d")["default"])},"372e":function(n,t,e){"use strict";(function(n){e("4520"),e("921b");o(e("66fd"));var t=o(e("d27c"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},"925c":function(n,t,e){"use strict";var o={"mescroll-uni":()=>Promise.all([e.e("common/vendor"),e.e("components/mescroll-uni/mescroll-uni")]).then(e.bind(null,"6600"))},i=function(){var n=this,t=n.$createElement;n._self._c},r=[];e.d(t,"b",function(){return i}),e.d(t,"c",function(){return r}),e.d(t,"a",function(){return o})},a3a2:function(n,t,e){"use strict";var o=e("cd03"),i=e.n(o);i.a},cd03:function(n,t,e){},d27c:function(n,t,e){"use strict";e.r(t);var o=e("925c"),i=e("f537");for(var r in i)"default"!==r&&function(n){e.d(t,n,function(){return i[n]})}(r);e("a3a2");var a,c=e("f0c5"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);t["default"]=s.exports},f537:function(n,t,e){"use strict";e.r(t);var o=e("1293"),i=e.n(o);for(var r in o)"default"!==r&&function(n){e.d(t,n,function(){return o[n]})}(r);t["default"]=i.a}},[["372e","common/runtime","common/vendor"]]]);