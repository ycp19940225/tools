(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0e87":function(t,e,n){"use strict";n.r(e);var o=n("1e8d");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("af3a");var i,r,c,u,d=n("f0c5"),s=Object(d["a"])(o["default"],i,r,!1,null,null,null,!1,c,u);e["default"]=s.exports},"0fed":function(t,e,n){"use strict";var o={"mescroll-uni":()=>Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"6600"))},a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},"11c3":function(t,e,n){},1293:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(){return n.e("components/mix-list-cell").then(n.bind(null,"be0b"))},c=function(){return Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"6600"))},u=0,d=0,s=!0,l={components:{listCell:r,MescrollUni:c},data:function(){return{coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,userInformation:{headimg:"",nickname:""},downOption:{use:!0,auto:!0},upOption:{use:!1,auto:!1,page:{num:0,size:3},noMoreSize:5,empty:{tip:"暂无相关数据..."}}}},mounted:function(){this.getPageData(),this.getAd()},computed:a({},(0,o.mapState)(["hasLogin","userInfo"])),methods:{getAd:function(){var t=this;wx.createInterstitialAd&&(t.screenAd=wx.createInterstitialAd({adUnitId:"adunit-d7c1f207fcff3ab6"}),t.screenAd.onLoad(function(){}),t.screenAd.onError(function(t){})),t.screenAd&&setTimeout(function(){t.screenAd.show().catch(function(t){console.error(t)})},t.getRandom(15e3,3e4))},getRandom:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e-t,a=Math.random();return(t+o*a).toFixed(n)},couponsList:function(){t.navigateTo({url:"/pages/coupons/list"})},getCoupons:function(){t.navigateTo({url:"/pages/coupons/get"})},shareTo:function(){t.showToast({title:"请点击上方工具栏分享转发",icon:"none"})},tip:function(){this.$api.msg("暂未开通")},downCallback:function(t){this.getPageData(),t.endSuccess()},editInfo:function(){t.navigateTo({})},getPageData:function(){var e=this;this.$http.post("/api/user/index").then(function(n){var o=n.data.data;1!=n.data.code?t.showToast({title:n.data.info,icon:"none"}):""!=o["headimg"]||""!=o["nickname"]?e.userInformation=o:t.navigateTo({url:"/pages/user/auth"})}).catch(function(t){console.log(t)})},wxGetUserInfo:function(){var e=this;t.login({provider:"weixin",success:function(n){t.getUserInfo({provider:"weixin",success:function(t){console.log(t),e.userInformation.headimg=t.userInfo.avatarUrl,e.userInformation.nickname=t.userInfo.nickName,e.saveUserInfo(t.userInfo)}})}})},saveUserInfo:function(e){this.$http.post("/api/user/saveBase",e).then(function(e){e.data.data;1!=e.data.code?t.showToast({title:e.data.info,icon:"none"}):console.log(e)}).catch(function(t){console.log(t)})},navTo:function(e){this.userInfo||(e="/pages/public/login"),t.navigateTo({url:e})},coverTouchstart:function(t){!1!==s&&(this.coverTransition="transform .1s linear",u=t.touches[0].clientY)},coverTouchmove:function(t){d=t.touches[0].clientY;var e=d-u;e<0?this.moving=!1:(this.moving=!0,e>=80&&e<100&&(e=80),e>0&&e<=80&&(this.coverTransform="translateY(".concat(e,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")}}};e.default=l}).call(this,n("543d")["default"])},"1e8d":function(t,e,n){"use strict";n.r(e);var o=n("35bb"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=a.a},"29e0":function(t,e,n){"use strict";n.r(e);var o=n("e5d6"),a=n("c816");for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);n("da35");var r,c=n("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"50a375d4",null,!1,o["a"],r);e["default"]=u.exports},"35bb":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("dbb8");var o=n("591d"),a={methods:{wxLogin:function(){t.login({provider:"weixin",success:function(e){if("login:ok"==e.errMsg){var n=e.code;console.log(n),t.request({url:o.httpUrl+"/api/auth/index",data:{code:n},success:function(e){console.log(e);var n=e.data.data;1!=e.data.code?t.showToast({title:e.data.info,icon:"none"}):t.setStorage({key:"userInfo",data:n})}})}}})}},globalData:{showAd:1},onLaunch:function(){var e=this;t.getStorage({key:"userInfo",success:function(t){},fail:function(){e.wxLogin()}})},computed:{},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};e.default=a}).call(this,n("543d")["default"])},"3d5d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("591d");var o=function(){return Promise.all([n.e("common/vendor"),n.e("components/SJ-LotteryDraw/SJ-LotteryDraw")]).then(n.bind(null,"f420"))},a=function(){return n.e("components/uni-notice-bar/uni-notice-bar").then(n.bind(null,"3aa2"))},i=function(){return Promise.all([n.e("common/vendor"),n.e("components/gaoyia-parse/parse")]).then(n.bind(null,"0c66"))},r={components:{LotteryDraw:o,uniNoticeBar:a,uParse:i},props:{},data:function(){return{lottery_draw_param:{startIndex:0,totalCount:4,winingIndex:4,speed:100},drawList:{},back_time:0,open:!1,open2:!1,packageId:null,rule:{},showAdContent:{},name:"规则",videoAd2:null,screenAd:null,getPrizeRecordId:"",ad_time:0,isGetAdTime:!1,sign:"人工客服在线时间：08:00-24:00 发货时间5个工作日内",setInter:""}},onLoad:function(t){var e=this;e.shareCode=void 0!=t.shareCode?t.shareCode:""},mounted:function(){var t=this,e=getCurrentPages(),n=e[e.length-1],o=n.options;console.log(o),t.shareCode=void 0!=o.scene?o.scene:"",console.log(t.shareCode),t.$tool.showLoading("页面加载中..."),t.getPageData(),t.getAd()},beforeDestroy:function(){},onHide:function(){},methods:{addDrawTime:function(){var e=this,n={};e.$http.post("/api/draw/addDrawTime",n).then(function(n){var o=n.data.data;1!=n.data.code?t.showToast({title:n.data.info,icon:"none"}):(e.packageId=null,t.showToast({title:"领取成功！"}),e.back_time=o,e.ad_time--)}).catch(function(t){console.log(t)})},getPrize:function(){var e=this,n={getPrizeRecordId:e.getPrizeRecordId};console.log(e.getPrizeRecordId),e.$http.post("/api/draw/getPrize",n).then(function(n){var o=n.data.data;if(console.log(e.getPrizeRecordId,o),1!=n.data.code)t.showToast({title:n.data.info,icon:"none"});else if(e.packageId=null,console.log(o),1==o.draw_type)t.showModal({title:"宝箱领取成功!\n下次抽奖将会得到"+o.value+"倍奖励"});else if(2==o.draw_type){var a={};a.goods_id=o.goods_id,t.showToast({title:"奖品领取成功！"}),setTimeout(function(){t.redirectTo({url:"/pages/order/createOrder3?data="+JSON.stringify(a)})},1e3)}}).catch(function(t){console.log(t)})},endSetInter:function(){var t=this;clearInterval(t.setInter),console.log("close interval")},random:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},getSign:function(){var t=this,e=t.random(0,t.nick.length),n=t.random(0,t.goods.length),o=void 0!=t.nick[e]?t.nick[e]:"Everglow",a=void 0!=t.goods[n]?t.goods[n]:"新鲜柠檬";t.sign="恭喜"+o+"兑换了"+a+"!"},getAd:function(){var t=this;wx.createInterstitialAd&&(t.screenAd=wx.createInterstitialAd({adUnitId:"adunit-2ee08fdeaba9cd00"}),t.screenAd.onLoad(function(){}),t.screenAd.onError(function(t){})),t.screenAd&&setTimeout(function(){t.screenAd.show().catch(function(t){console.log(t)})},t.getRandom(15e3,3e4))},getRandom:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e-t,a=Math.random();return(t+o*a).toFixed(n)},navTo:function(){var e="/pages/user/sign";t.navigateTo({url:e})},hideModal2:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=this;this.packageId=null;1==t&&(e.isGetAdTime=!1,e.$emit("videoShow",!1)),2==t&&(e.isGetAdTime=!1,e.$emit("videoShow",!1))},showAd:function(){var e=this;e.$tool.showLoading("加载中..."),e.ad_time>0?(e.isGetAdTime=!0,e.$emit("videoShow",!0)):(t.showModal({title:"广告次数已用完！"}),e.$tool.hideLoading())},showModal:function(){this.open=!0},hideModal:function(t){this.open=!1},showModal2:function(){1==getApp().globalData.showAd&&(console.log(333),this.open2=!0,getApp().globalData.showAd=0)},hideModal3:function(t){this.open2=!1},getPageData:function(){var e=this;e.$http.post("/api/draw/getDrawList",{shareCode:e.shareCode}).then(function(n){var o=n.data.data;1!=n.data.code?t.showToast({title:n.data.info,icon:"none"}):(console.log(o),e.drawList=o.drawList,e.back_time=o.back_time,e.rule=o.rule,e.name=o.rule.name,console.log(e.rule),e.showAdContent=o.showAd,e.ad_time=o.ad_time,e.nick=o.nick,e.goods=o.goods,e.$tool.hideLoading(),e.showModal2())}).catch(function(t){console.log(t)})},get_winingIndex:function(e){var n=this,o=this;0==o.back_time||o.back_time<0?t.showModal({title:"今日抽奖次数已用完"}):(o.$tool.showLoading("抽奖中..."),this.$http.post("/api/draw/doDraw").then(function(a){var i=a.data.data;if(1!=a.data.code)t.showToast({title:a.data.info,icon:"none"});else{var r,c,u=i.checkList;console.log(i);for(var d=0;d<o.drawList.length;d++)o.drawList[d].id==u.id&&(r=d,c=o.drawList[d].type,o.getPrizeRecordId=i.getRecordId,o.$set(o.drawList,d,u));n.lottery_draw_param.winingIndex=r,n.lottery_draw_param.speed=100,e(n.lottery_draw_param),0==c&&o.back_time--}}).catch(function(t){console.log(t)}))},luck_draw_finish:function(t){console.log(t);for(var e=this,n=0,o=0;o<e.drawList.length;o++)e.drawList[o].id==t.id&&(n=o);this.packageId=n}}};e.default=r}).call(this,n("543d")["default"])},"46ea":function(t,e,n){"use strict";var o=n("11c3"),a=n.n(o);a.a},"64ba":function(t,e,n){"use strict";n.r(e);var o=n("8646"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=a.a},8646:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n("591d");var o=function(){return Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"6600"))},a={components:{MescrollUni:o},data:function(){return{show_title:"",balance:"0.00",record:[],userInfo:{},vip:{},userInformation:{},downOption:{use:!1,auto:!1},upOption:{use:!0,auto:!0,page:{num:0,size:9},noMoreSize:5,empty:{tip:"暂无特权商品..."}},bannerList:{}}},onLoad:function(t){console.log(t);var e=this;e.getPageData(t),e.getAd()},methods:{getAd:function(){var t=this;wx.createInterstitialAd&&(t.screenAd=wx.createInterstitialAd({adUnitId:"adunit-56e68361b2b5333d"}),t.screenAd.onLoad(function(){}),t.screenAd.onError(function(t){})),t.screenAd&&setTimeout(function(){t.screenAd.show().catch(function(t){console.error(t)})},t.getRandom(15e3,3e4))},getRandom:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e-t,a=Math.random();return(t+o*a).toFixed(n)},navTo:function(e){t.navigateTo({url:e})},navTo2:function(e){var n={};n.goods_id=this.record[e].id,console.log(this.record[e].id),t.redirectTo({url:"/pages/order/createOrder2?data="+JSON.stringify(n)})},downCallback:function(t){this.getPageData(),t.endSuccess()},upCallback:function(t){var e=this,n=t.num,o=t.size;e.$http.post("/api/user/getVipInfo?pageNum="+n+"&pageSize="+o).then(function(n){var o=n.data.data,a=o.list,i=o.pageSize;o.totalSize;1==t.num&&(e.dataList=[]),e.record=e.record.concat(a),e.vip=o.vip,t.endByPage(a.length,i)}).catch(function(e){console.log(e),t.endErr()})},getPageData:function(){var e=this,n={coupons_code:e.code};t.showLoading({title:"加载中..."}),e.$http.post("/api/user/getVipInfo",n).then(function(n){if(console.log(n),1!=n.data.code)t.showToast({title:n.data.info,icon:"none"});else{var o=n.data.data;e.userInfo=o.userInfo,e.record=o.record}t.hideLoading()}).catch(function(t){console.log(t)}),t.hideLoading()},DotStyle:function(t){this.dotStyle=t.detail.value},cardSwiper:function(t){var e=this;e.key=t.detail.current,e.getChecked()},getChecked:function(){var t=this;t.show_title=t.levelData[t.key].show_title;for(var e,n=t.swiperList[t.key].id,o=t.array[n].pri_id,a=t.priAllData,i=0;i<a.length;i++){e=a[i].id;for(var r=0;r<o.length;r++){if(o[r]==e){a[i].checked=!0;break}a[i].checked=!1}}t.priAllData=a}}};e.default=a}).call(this,n("543d")["default"])},"925c":function(t,e,n){"use strict";var o={"mescroll-uni":()=>Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"6600"))},a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},a3a2:function(t,e,n){"use strict";var o=n("cd03"),a=n.n(o);a.a},a98a:function(t,e,n){},af3a:function(t,e,n){"use strict";var o=n("f575"),a=n.n(o);a.a},b259:function(t,e,n){"use strict";n.r(e);var o=n("0fed"),a=n("64ba");for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);n("46ea");var r,c=n("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=u.exports},c816:function(t,e,n){"use strict";n.r(e);var o=n("3d5d"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=a.a},cd03:function(t,e,n){},d27c:function(t,e,n){"use strict";n.r(e);var o=n("925c"),a=n("f537");for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);n("a3a2");var r,c=n("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=u.exports},da35:function(t,e,n){"use strict";var o=n("a98a"),a=n.n(o);a.a},e5d6:function(t,e,n){"use strict";var o={"uni-notice-bar":()=>n.e("components/uni-notice-bar/uni-notice-bar").then(n.bind(null,"3aa2"))},a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},f537:function(t,e,n){"use strict";n.r(e);var o=n("1293"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=a.a},f575:function(t,e,n){},f926:function(t,e,n){"use strict";(function(t,e){n("4520"),n("921b");var o=h(n("66fd")),a=h(n("6676")),i=h(n("0e87")),r=h(n("fd36")),c=n("591d"),u=h(n("9ca5")),d=h(n("29e0")),s=h(n("b259")),l=h(n("d27c")),f=n("dbb8");function h(t){return t&&t.__esModule?t:{default:t}}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){p(t,e,n[e])})}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o.default.config.productionTip=!1,o.default.component("draw",d.default),o.default.component("member",s.default);var v=function(){return n.e("pages/basics/index").then(n.bind(null,"b906"))};o.default.component("basics",v),o.default.component("user",l.default);var m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(e)&&t.showToast({title:e,duration:n,mask:o,icon:a})},w=function(t){return new Promise(function(e){setTimeout(function(){e(u.default[t])},500)})},b=function(){var t=getCurrentPages(),e=t[t.length-2];return e.$vm};o.default.config.productionTip=!1,o.default.prototype.$fire=new o.default,o.default.prototype.$store=a.default,o.default.prototype.$tool={showLoading:c.showLoading,hideLoading:c.hideLoading},o.default.prototype.$api={msg:m,json:w,prePage:b},o.default.prototype.mapSecret="0cc44eb70a945ab36ee445909dac6536",o.default.prototype.$http=f.http,o.default.mixin(r.default),i.default.mpType="app";var y=new o.default(g({},i.default));e(y).$mount()}).call(this,n("543d")["default"],n("543d")["createApp"])}},[["f926","common/runtime","common/vendor"]]]);